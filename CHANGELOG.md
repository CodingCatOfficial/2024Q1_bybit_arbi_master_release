# 更新日誌

所有顯著的更改都將記錄在此文檔中。



## [1.0.9] - 2024-03-13
## 變更
- 修正 `bybit_airbitrage.py` ，平倉模式改採非同步發出，偵測設定閥值後首先賣出現貨，直到現貨賣出成功後才買入合約，最大retry次數為50次，失敗停止，避免IM超過90%情況下保證金占用無法下單，造成單邊裸奔。
*IM>100%情況可能完全無法賣出現貨，此為Bybit本身設計，建議從IM<90%的帳號開始平倉，然後轉帳補充保證金再使用程式。否則目前已知解法剩下兩種，第一種先手動平倉部分合約釋出保證金(合約保證金要求較小，比較容易下單成功)，接著有保證金餘額後賣出現貨，反覆操作直到IM降低；第二種作法則是一次下最低平倉量較有可能成功平倉。*

## [1.0.8] - 2024-02-27
## 變更
- 修正 `bybit_arbitrage.py` ：
    1. 關於下單的等待時間設計，原始在偵測到價差後，會先等interval/2才開始下單。改為直接下單完成並顯示倉位後，才開始等待下單間隔。
    2. 將下單間隔設置為預設最小0.01秒，移除雜湊數。
    3. 下單方式改採ThreadPoolExecutor，同步發出現貨及合約的下單訊號。
    4. 修正細小邏輯以加快每次偵測的下單速度，實際上目前最快約一秒能建1~2單。

## [1.0.7] - 2024-02-23
## 變更
- 修正 `bybit_arbitrage.py` ，移除keyboard相關程式碼。

## [1.0.6] - 2024-02-20
### 修復
- 修正websocket連接方式指定SSL憑證，以運行於mac。
- 修復api保存程式的讀取路徑，以運行於mac。

## [1.0.5] - 2024-02-19
### 新增
- 兩交易對共同最小步長及下單單位推算。
- 新增api保存程式。

## [1.0.4] - 2024-02-19
### 新增
- 最小下單單位查詢。
- 偵測下單失敗後，中斷下單。

## [1.0.3] - 2024-02-09
### 變更
- 修正 `client.py` jwt返回錯誤的程式碼，更新為python3.12 以後版本處理方式。
- 鴨鴨發現了自己現實世界沒錢包紅包。

## [1.0.2] - 2024-02-08
### 變更
- 修正 `client.py` 內引導 `config.json` 的路徑參數方式，以包入exe檔內。
- 鴨鴨去了一趟costco，買了很多零食。

## [1.0.1] - 2024-02-08
### 變更
- 修正 `README.md` 描述。

## [1.0.0] - 2024-02-07
### 新增
- 項目初始化
### 變更
- 
### 修復
- 
